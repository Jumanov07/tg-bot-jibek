require("dotenv").config();
const { Telegraf } = require("telegraf");

// ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะพัะฐ ั ัะพะบะตะฝะพะผ ะธะท ะฟะตัะตะผะตะฝะฝะพะน ะพะบััะถะตะฝะธั
const bot = new Telegraf(process.env.TOKEN);

// ๐ฏ ะกะฟะธัะพะบ ะบะฐัะตะณะพัะธะน ั ัะตะบััะฐะผะธ
const categories = {
  "ำจะทาฏาฃะดาฏ ำฉะฝาฏะบัาฏัาฏาฏ": [
    "30 ะผาฏะฝำฉั ะพะน ะถาฏะณาฏััาฏาฏ (ะผะตะดะธัะฐัะธั)",
    "ำจะทาฏาฃำฉ ะบะฐั ะถะฐะท",
    "ะะธั ะถะฐาฃั ะผะฐะบะฐะปะฐะฝั ะถะต ะบะธัะตะฟัะธะฝ ะฑำฉะปาฏะผาฏะฝ ะพะบั",
    "5 ะถัะปะดัะบ ะบะตะปะตัะตะบะบะต ะผะฐะบัะฐั ะถะฐะท",
    "ะะธั ะบาฏะฝ ัะตะปะตัะพะฝััะท ำฉัะบำฉั",
    "3 ัะฐะฐั ัะพัะธะฐะปะดัะบ ัะฐัะผะฐะบััะท ะฑะพะป",
    "ะงะตั ัะธะปะธะฝะดะต 10 ะถะฐาฃั ัำฉะท ะถะฐััะฐ",
    "ะะฐัะพะพาฃะดะพ ัะผะฝะตะณะต ััะฐะฐะทั ัะบะตะฝะธาฃะดะธ ะถะฐะท",
    "ะขะฐะฐะฝัั ัะผะตั ะฐะดะฐะผ ะผะตะฝะตะฝ ัาฏะนะปำฉั",
    "ะาฏะฝะดำฉะปาฏะบะบำฉ ะถะฐัะพะพาฃ ััััะฐะปัั 1 ะฑะตั ะถะฐะท",
  ],
  ะงัะณะฐัะผะฐััะปัะบ: [
    "10 ะผาฏะฝำฉั ัั ัะพะบัะพะฑะพะน ััะบะธะฝ ะถะฐะทัั ะถะฐัะฐ",
    "1 ัาฏัำฉั ัะฐัั",
    "ะะฐาฃั ััะดัะฝ ัะตะบััะธะฝ ะถะฐะท",
    "ะะพะป ะผะตะฝะตะฝ ะฑะธั ะฝะตััะต ะถะฐัะพะพะณะพ ะฐัะฐะบะตั ะบัะป (handmade)",
    "ะกาฏะนาฏะบัาฏาฏ ัะฐัะผะฐาฃะดัะฝ ััะถะตัะธ ะฑะพัะฝัะฐ ะฑะฐัะบะฐัะฐ ะฑาฏัาฏัาฏะฟ ะถะฐะท",
    "ะำฉะทะดำฉัาฏาฃะดาฏ ะถััะผะฟ 5 ะผาฏะฝำฉั ััะดะฐะฟ ะบำฉั",
    "ะะธั ะบาฏะฝ ะฑะพั ัาฏัำฉััำฉั ะผะตะฝะตะฝ ัะปะต ะฐะนััะฟ ะฑะตัาฏาฏ (ัะตะปะตัะพะฝ ะฐัะบัะปัั)",
    "ะะฐาฃั ัะฐะผะฐะบ ะถะฐัะฐะฟ ะบำฉั",
    "ะคะพัะพัะตััะธั ะบัะป",
    "ะะบัะณะฐะฝ ะบะธัะตะฑะธาฃะดะตะฝ ะบัะทัะบััั ัะธัะฐัะฐะปะฐัะดั ะฑำฉะปาฏั",
  ],
  "ะคะธะทะธะบะฐะปัะบ ำฉะฝาฏะณาฏาฏ": [
    "10 ะผาฏะฝำฉั ะนะพะณะฐ ะถะฐัะฐ",
    "5 ะบะผ ะฑะฐั",
    "ะัะทะดะฐะบ ััั ะผะตะฝะตะฝ ะถััะฝ",
    "ะะธั ะบาฏะฝ ัะฐัััั ะถะตะฑะตะน ะบำฉั",
    "50 ะถะพะปั ะพััััะฟ-ััั",
    "ะะธั ะบาฏะฝ ะฑะพั 2 ะปะธัั ััั ะธั",
    "ะะฐาฃั ะผะฐััะณัั ะฐัะฐะบะตั ะบัะป",
    "ะะธั ะบาฏะฝ ะฑะพั ะฑะฐััะฟ ะถาฏั",
    "าฎะนะดำฉ 15 ะผาฏะฝำฉั ะฑะธะนะปะต",
    "ะะตะฝะตาฃะดะธ ััะฝะดัััั ะบำฉะฝาฏะณาฏาฏะปำฉัาฏะฝ ะถะฐัะฐ",
  ],
  "ะะฐัะพะพ ััะธะปะธ ะถะฐะฝะฐ ะบำฉะฝะดาฏะผะดำฉั": [
    "ะะธั ะบาฏะฝ ัััะต ะพะนะณะพะฝ",
    "ะะฐาฃั ัะตัะตะฟั ะผะตะฝะตะฝ ัะฐะผะฐะบ ะถะฐัะฐ",
    "ำจะทาฏาฃ ะบะฐะฐะปะฐะณะฐะฝ ะบะธะนะธะผ ััะธะปะธะฝะดะต ะบะธะนะธะฝ",
    "ะะธั ะบาฏะฝ ะฑะพั ัะพััะฐัะผะฐะบัะฐัััะท ะฑะพะป",
    "1 ัะฐะฐั ัั ะบะธะผ ะผะตะฝะตะฝ ัาฏะนะปำฉัะฟำฉะน ะบำฉั",
    "ะะธั ะถัะผะฐะณะฐ ะฟะปะฐะฝะดะฐัะดั ะถะฐะท",
    "ะาฏะฝ ัะฐััะธะฑะธาฃะดะธ ำฉะทะณำฉััาฏะฟ ะบำฉั",
    "ะะธั ะบาฏะฝ ะฑะพั ะถะฐาฃั ะฝะตััะตะปะตัะดะธ ะฑะฐะนะบะพะพะณะพ ะฐัะฐะบะตั ะบัะป",
    "ะขะฐะทะฐะปัะบ ะบาฏะฝาฏะฝ ำฉัะบำฉั",
    "ะาฏะฝะดาฏะฝ ะฐะบัััะฝะดะฐ ำฉะทาฏาฃำฉ ะพััะตั ะถะฐะท",
  ],
};

// ๐ ะกัะฐััะพะฒะฐั ะบะพะผะฐะฝะดะฐ
bot.start((ctx) => {
  const keyboard = {
    reply_markup: {
      keyboard: Object.keys(categories).map((cat) => [cat]),
      resize_keyboard: true,
    },
  };
  ctx.reply("๐ ะกะฐะปะฐะผ! ะะฐัะตะณะพัะธัะฝั ัะฐะฝะดะฐ:", keyboard);
});

// ๐ฒ ะะฑัะฐะฑะพัะบะฐ ะฒัะฑะพัะฐ ะบะฐัะตะณะพัะธะธ
bot.on("text", (ctx) => {
  const category = ctx.message.text;
  if (categories[category]) {
    const randomText =
      categories[category][
        Math.floor(Math.random() * categories[category].length)
      ];
    ctx.reply(`๐ ${category} ะบะฐัะตะณะพัะธัััะฝะฐะฝ ัะฐะฟัััะผะฐ:\n\n${randomText}`);
  } else {
    ctx.reply("โ๏ธ ะกััะฐะฝัั, ะบะฐัะตะณะพัะธัะฝั ัะฐะฝะดะฐาฃัะท.");
  }
});

// ๐ ะะตะฑ-ัะตัะฒะตั าฏัาฏะฝ
const express = require("express");
const app = express();
const PORT = process.env.PORT || 3000;

app.get("/", (req, res) => {
  res.send("ะขะตะปะตะณัะฐะผ ะฑะพั ะธััะตะฟ ะถะฐัะฐั! ๐");
});

app.listen(PORT, () => {
  console.log(`๐ ะะตะฑ-ัะตัะฒะตั ะธััะตะฟ ะถะฐัะฐั: http://localhost:${PORT}`);
});

// ๐ ะะฐะฟััะบ ะฑะพัะฐ
bot.launch();

console.log("๐ค ะะพั ะบััะณัะท ัะธะปะธะฝะดะต ะธััะตะฟ ะถะฐัะฐั!");
